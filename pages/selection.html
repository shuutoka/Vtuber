<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VTuber Streams</title>
    <link rel="stylesheet" href="loading.css">
    <link rel="icon" type="image/png" href="/icons/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="/icons/favicon.svg" />
    <link rel="shortcut icon" href="/icons/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png" />
    <meta name="apple-mobile-web-app-title" content="VtuberLink" />
    <link rel="manifest" href="/icons/site.webmanifest" />
    <!-- Lien vers le manifest -->
<link rel="manifest" href="manifest.json">
<!-- Couleur de la barre d'Ã©tat sur mobile -->
<meta name="theme-color" content="#f0a500">
<!-- Enregistrement du Service Worker -->
<script>
if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('/sw.js')
    .then(() => console.log("Service Worker enregistrÃ©."))
    .catch(error => console.error("Service Worker erreur :", error));
}
</script>


    <style>
        
        body {
            font-family: Arial, sans-serif;
            background-color: #0a1128;
            color: #ffffff;
            text-align: center;
            padding: 20px;
        }

        h1 {
            margin-bottom: 20px;
        }

        .btn {
            display: block;
            padding: 8px;
            margin: 5px 0;
            border-radius: 5px;
            text-decoration: none;
            font-weight: bold;
            transition: background 0.3s;
        }

        .btn-profile {
            background-color: #f0a500;
            color: #fff;
        }

        .btn-profile:hover {
            background-color: #d98b00;
        }

        .btn-twitch {
            background-color: #6441a5;
            color: #fff;
        }

        .btn-twitch:hover {
            background-color: #52328c;
        }

        .filter-buttons {
            margin-bottom: 20px;
        }

        .filter-btn {
            padding: 10px 20px;
            margin: 5px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            background-color: #f0a500;
            color: white;
        }

        .filter-btn:hover {
            background-color: #d98b00;
        }

        .streamer-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            justify-items: center;
            max-width: 1000px;
            margin: auto;
        }

        .streamer-card {
            background-color: #162447;
            border-radius: 10px;
            padding: 15px;
            width: 300px;
            text-align: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            transition: transform 0.2s ease-in-out;
        }

        .streamer-card:hover {
            transform: scale(1.05);
        }

        .stream-thumbnail {
            border-radius: 10px;
            width: 100%;
            height: auto;
            margin-bottom: 10px;
        }

        .profile-img {
            border-radius: 50%;
            width: 70px;
            height: 70px;
            object-fit: cover;
        }

        .status {
            font-weight: bold;
            margin: 5px 0;
        }

        .live {
            color: #ff4f4f;
        }

        .offline {
            color: #ccc;
        }

         /* Responsive : 2 cartes par ligne sur mobile */
         @media (max-width: 768px) {
            .streamer-container {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* Responsive : 1 carte par ligne sur mobile trÃ¨s petit */
        @media (max-width: 480px) {
            .streamer-container {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Ã‰cran de chargement -->
<div id="loading-screen">
    <div class="spinner"></div>
    <p>Chargement des streamers...</p>
</div>

    <h1>ðŸŒ¸ Notre sÃ©lection VTuber ðŸ—¿</h1>

    <div class="filter-buttons">
        <button class="filter-btn" onclick="filterStreamers('all')">Tous</button>
        <button class="filter-btn" onclick="filterStreamers('live')">En live</button>
        <button class="filter-btn" onclick="filterStreamers('offline')">Hors ligne</button>
    </div>

    <div class="streamer-container">
        <!-- VTuber 1 -->
        <div class="streamer-card" data-username="araesha_">
            <img class="stream-thumbnail" src="" alt="Miniature du stream">
            <h2>Araesha</h2>
            <img class="profile-img" src="https://static-cdn.jtvnw.net/jtv_user_pictures/b8d1a4ad-868f-40b3-bc06-6444b132527e-profile_image-70x70.png" alt="Profil">
            <p class="status">ðŸ•’ VÃ©rification...</p>
            <a href="../vtuber/profile-araesha.html" target="_self" class="btn btn-profile">Voir le profil</a>
            <a href="https://www.twitch.tv/araesha_" target="_blank" class="btn btn-twitch">Voir sur Twitch</a>
        </div>

        <!-- VTuber 2 -->
        <div class="streamer-card" data-username="meyuuart">
            <img class="stream-thumbnail" src="" alt="Miniature du stream">
            <h2>Meyuu Art</h2>
            <img class="profile-img" src="https://static-cdn.jtvnw.net/jtv_user_pictures/a52798d1-1bd4-41b0-b109-b4756b348bfd-profile_image-70x70.png" alt="Profil">
            <p class="status">ðŸ•’ VÃ©rification...</p>
            <a href="../vtuber/profile-meyuuart.html" class="btn btn-profile">Voir le profil</a>
            <a href="https://www.twitch.tv/meyuuart" target="_blank" class="btn btn-twitch">Voir sur Twitch</a>
        </div>

        <!-- VTuber 3 -->
        <div class="streamer-card" data-username="yamishin">
            <img class="stream-thumbnail" src="" alt="Miniature du stream">
            <h2>Yami Shin</h2>
            <img class="profile-img" src="https://static-cdn.jtvnw.net/jtv_user_pictures/a22de19e-b7f3-4f49-95b3-c8cf50c1b13f-profile_image-70x70.png" alt="Profil">
            <p class="status">ðŸ•’ VÃ©rification...</p>
            <a href="http://vtuber.lotaku.fr/" class="btn btn-profile">Voir le profil</a>
            <a href="https://www.twitch.tv/yamishin" target="_blank" class="btn btn-twitch">Voir sur Twitch</a>
        </div>

         <!-- VTuber 4 -->
        <div class="streamer-card" data-username="gulliana_vt">
            <img class="stream-thumbnail" src="" alt="Miniature du stream">
            <h2>Gulliana VT</h2>
            <img class="profile-img" src="https://static-cdn.jtvnw.net/jtv_user_pictures/762acfbd-5db5-4468-9078-05d9761356f7-profile_image-70x70.png" alt="Profil">
            <p class="status">ðŸ•’ VÃ©rification...</p>
            <a href="http://vtuber.lotaku.fr/" class="btn btn-profile">Voir le profil</a>
            <a href="https://www.twitch.tv/gulliana_vt" target="_blank" class="btn btn-twitch">Voir sur Twitch</a>
        </div>

        <!-- VTuber 5 -->
        <div class="streamer-card" data-username="katchanvt">
            <img class="stream-thumbnail" src="" alt="Miniature du stream">
            <h2>KatChan</h2>
            <img class="profile-img" src="https://static-cdn.jtvnw.net/jtv_user_pictures/fe803843-ee97-409f-b693-aaa2ec3e273e-profile_image-70x70.png" alt="Profil">
            <p class="status">ðŸ•’ VÃ©rification...</p>
            <a href="http://vtuber.lotaku.fr/" class="btn btn-profile">Voir le profil</a>
            <a href="https://www.twitch.tv/katchanvt" target="_blank" class="btn btn-twitch">Voir sur Twitch</a>
        </div>

        <!-- VTuber 6 -->
        <div class="streamer-card" data-username="lasryuki">
            <img class="stream-thumbnail" src="" alt="Miniature du stream">
            <h2>Lasryuki</h2>
            <img class="profile-img" src="https://static-cdn.jtvnw.net/jtv_user_pictures/821f42da-fdc9-4884-bf87-bdb3abaf56cd-profile_image-70x70.png" alt="Profil">
            <p class="status">ðŸ•’ VÃ©rification...</p>
            <a href="http://vtuber.lotaku.fr/" class="btn btn-profile">Voir le profil</a>
            <a href="https://www.twitch.tv/lasryuki" target="_blank" class="btn btn-twitch">Voir sur Twitch</a>
        </div>

        <!-- VTuber 7 -->
        <div class="streamer-card" data-username="jayru">
            <img class="stream-thumbnail" src="" alt="Miniature du stream">
            <h2>Jayru</h2>
            <img class="profile-img" src="https://static-cdn.jtvnw.net/jtv_user_pictures/bc20a79e-451c-41a9-89d3-9b7d6c8a4838-profile_image-70x70.png" alt="Profil">
            <p class="status">ðŸ•’ VÃ©rification...</p>
            <a href="http://vtuber.lotaku.fr/" class="btn btn-profile">Voir le profil</a>
            <a href="https://www.twitch.tv/jayru" target="_blank" class="btn btn-twitch">Voir sur Twitch</a>
        </div>

        <!-- VTuber 8 -->
        <div class="streamer-card" data-username="shioka_">
            <img class="stream-thumbnail" src="" alt="Miniature du stream">
            <h2>Shioka</h2>
            <img class="profile-img" src="https://static-cdn.jtvnw.net/jtv_user_pictures/fb4fd9e1-6e46-40c4-b6fe-b4cb7487b744-profile_image-70x70.png" alt="Profil">
            <p class="status">ðŸ•’ VÃ©rification...</p>
            <a href="https://vtuber.lotaku.fr/vtuber/shioka.html" class="btn btn-profile">Voir le profil</a>
            <a href="https://www.twitch.tv/shioka_" target="_blank" class="btn btn-twitch">Voir sur Twitch</a>
        </div>
    </div>
    </div>

    <script>
       document.addEventListener("DOMContentLoaded", function () {
    const streamerCards = document.querySelectorAll(".streamer-card");
    const defaultThumbnail = "https://static-cdn.jtvnw.net/ttv-static/404_preview-440x248.jpg";
    const loadingScreen = document.getElementById("loading-screen");
    let loadedCount = 0; // Compteur pour suivre les chargements

    function hideLoadingScreen() {
        loadingScreen.style.display = "none";
    }

    streamerCards.forEach(card => {
        const username = card.getAttribute("data-username");
        const thumbnailUrl = `https://static-cdn.jtvnw.net/previews-ttv/live_user_${username}-440x248.jpg`;
        const imgElement = card.querySelector(".stream-thumbnail");
        const statusElement = card.querySelector(".status");

        fetch(thumbnailUrl, { method: "HEAD" })
            .then(response => {
                if (response.url === defaultThumbnail) {
                    imgElement.src = defaultThumbnail;
                    statusElement.textContent = "âš« Hors ligne";
                    statusElement.classList.add("offline");
                    statusElement.classList.remove("live");
                } else {
                    imgElement.src = thumbnailUrl;
                    statusElement.textContent = "ðŸ”´ En live";
                    statusElement.classList.add("live");
                    statusElement.classList.remove("offline");
                }
            })
            .catch(error => {
                console.error("Erreur lors de la vÃ©rification du stream :", error);
                imgElement.src = defaultThumbnail;
                statusElement.textContent = "âš« Hors ligne";
                statusElement.classList.add("offline");
                statusElement.classList.remove("live");
            })
            .finally(() => {
                loadedCount++;
                if (loadedCount === streamerCards.length) {
                    setTimeout(hideLoadingScreen, 800); // Petit dÃ©lai pour fluiditÃ©
                }
            });
    });

    setTimeout(() => {
        filterStreamers('live');
    }, 800);
});

    function filterStreamers(status) {
    const streamerCards = document.querySelectorAll(".streamer-card");

    streamerCards.forEach(card => {
        const statusElement = card.querySelector(".status");

        if (status === "all") {
            card.style.display = "block";
        } else if (status === "live" && statusElement.classList.contains("live")) {
            card.style.display = "block";
        } else if (status === "offline" && statusElement.classList.contains("offline")) {
            card.style.display = "block";
        } else {
            card.style.display = "none";
        }
    });
}

    document.addEventListener('DOMContentLoaded', function () {
    document.querySelectorAll('a').forEach(link => {
        link.addEventListener('click', function (event) {
            const url = new URL(this.href, window.location.origin);

            // VÃ©rifier si le lien est interne
            if (url.origin === window.location.origin) {
                event.preventDefault();
                window.location.href = this.href; // Charge la page dans l'application
            }
        });
    });
});
        
    </script>
</body>
</html>
